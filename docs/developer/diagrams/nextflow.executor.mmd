classDiagram
    %%
    %% nextflow.executor
    %%
    ProcessDef --> Executor : run
    %% ExecutorFactory --> Executor : getExecutor

    TaskProcessor --* Executor
    %% Executor --> TaskMonitor : init
    %% Executor --> TaskHandler : submit

    Executor <|-- AbstractGridExecutor
    Executor <|-- LocalExecutor
    Executor <|-- NopeExecutor
    %% AbstractGridExecutor <|-- CondorExecutor
    %% AbstractGridExecutor <|-- HyperQueueExecutor
    %% AbstractGridExecutor <|-- LsfExecutor
    %% AbstractGridExecutor <|-- MoabExecutor
    %% AbstractGridExecutor <|-- NqsiiExecutor
    %% AbstractGridExecutor <|-- OarExecutor
    %% AbstractGridExecutor <|-- PbsExecutor
    %% AbstractGridExecutor <|-- SgeExecutor
    %% AbstractGridExecutor <|-- SlurmExecutor
    %% PbsExecutor <|-- PbsProExecutor
    %% SgeExecutor <|-- CrgExecutor

    %% TaskHandler <|-- CachedTaskHandler
    %% TaskHandler <|-- GridTaskHandler
    %% TaskHandler <|-- LocalTaskHandler
    %% TaskHandler <|-- NativeTaskHandler
    %% TaskHandler <|-- NopeTaskHandler
    %% TaskHandler <|-- StoredTaskHandler

    LocalExecutor --> LocalPollingMonitor : init
    LocalExecutor --> LocalTaskHandler : submit
    LocalExecutor --> NativeTaskHandler : submit
    LocalTaskHandler --> BashWrapperBuilder : submit

    AbstractGridExecutor --> TaskPollingMonitor : init
    AbstractGridExecutor --> GridTaskHandler : submit
    GridTaskHandler --> BashWrapperBuilder : submit

    class BashWrapperBuilder {
        bean : TaskBean
        copyStrategy : ScriptFileCopyStrategy
    }
    BashWrapperBuilder --* TaskBean
    BashWrapperBuilder --* ScriptFileCopyStrategy

    ScriptFileCopyStrategy <|-- SimpleFileCopyStrategy

    class SimpleFileCopyStrategy {
        stageinMode : String
        stageoutMode : String
        targetDir : Path
        workDir : Path
    }
